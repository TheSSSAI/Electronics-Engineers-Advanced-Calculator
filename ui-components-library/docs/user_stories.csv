"story_id","epic","title","user_role","description","business_value","priority","story_points","dependencies","acceptance_criteria","technical_tasks","definition_of_done"
"US-053","User Account & Authentication","Log in to an existing user account","Returning User","As a returning user with an existing account, I want to securely log in using my email and password, so that I can access my saved calculation history, variables, and custom modes, and continue my work from any device.","Enables user-specific data persistence and personalization, which is critical for user retention and engagement. It serves as the gateway to all features that rely on a user's saved state.","Must Have","13","[""US-052""]","[{""scenario"":""Successful login with valid credentials"",""given"":""A registered user is on the login page"",""when"":""The user enters their correct email and password and clicks the 'Log In' button"",""then"":""The system authenticates the user successfully, a secure session is established, and the user is redirected to the main calculator view. The UI updates to reflect the logged-in state, and the user's persisted data is fetched.""},{""scenario"":""Login attempt with incorrect password"",""given"":""A registered user is on the login page"",""when"":""The user enters their correct email but an incorrect password and clicks 'Log In'"",""then"":""A clear, non-specific error message such as 'Invalid email or password' is displayed.""},{""scenario"":""Attempting to access login page while already logged in"",""given"":""A user is already authenticated and has a valid session"",""when"":""The user navigates directly to the login page URL"",""then"":""The user is automatically redirected to the main calculator view.""}]","[""INF-002: Terraform for Authentication (AWS Cognito)"",""SEC-001: Implement Frontend Authentication Flow with Cognito (OAuth2+PKCE)"",""SEC-002: Implement Backend JWT Validation Guard (NestJS)"",""FE-001: Initialize React Project with Vite and TypeScript"",""FE-002: Integrate Redux Toolkit for State Management"",""FE-003: Set up Material-UI and Styled-components"",""FE-005: Develop Responsive Application Layout & Navigation""]","[""User can log in via AWS Cognito Hosted UI."",""Frontend securely manages JWTs and session state."",""Backend API endpoints are protected by the JWT guard."",""E2E tests for login, logout, and protected route access are passing."",""Infrastructure for Cognito is defined in Terraform and deployed.""]"
"US-001","Core Calculator Functionality","Perform basic arithmetic operations","General User","As a General User, I want to perform addition, subtraction, multiplication, and division using a clear interface, so that I can accurately and efficiently solve basic mathematical problems.","Establishes the core, non-negotiable functionality of the calculator, serving as the foundation for all other features.","Must Have","5","[]","[{""scenario"":""Correct Order of Operations"",""given"":""The user has entered the expression '5+3×2'"",""when"":""The user triggers the calculation"",""then"":""The result '11' is displayed, correctly performing multiplication before addition.""},{""scenario"":""Division by Zero"",""given"":""The user has entered the expression '8÷0'"",""when"":""The user triggers the calculation"",""then"":""A clear, non-destructive error message (e.g., 'Cannot divide by zero') is displayed.""}]","[""FE-006: Implement Calculator Display and Input Component"",""FE-007: Implement Calculator Keypad Component"",""FE-008: Implement Client-Side Expression Evaluation Engine""]","[""Addition, subtraction, multiplication, and division operations produce correct results."",""Order of operations (PEMDAS/BODMAS) is correctly handled."",""UI is responsive and accessible per WCAG 2.1 AA standards."",""Unit tests for the evaluation engine have >90% coverage.""]"
"US-056","User Data Persistence","Persist custom modes across sessions","Registered User","As a registered user who has created custom calculation modes, I want those modes to be automatically saved to my account, so that I can access and use them across different sessions and devices.","Increases user retention and engagement by making the custom mode feature a persistent, reusable asset. This provides a strong incentive for user registration.","Must Have","8","[""US-053"",""US-041""]","[{""scenario"":""Loading existing custom modes upon login"",""given"":""I am a registered user with at least one custom mode previously saved to my account"",""when"":""I successfully log in to the application"",""then"":""my previously saved custom modes are fetched from the backend and displayed in the custom mode management screen.""},{""scenario"":""Data isolation between different users"",""given"":""User A has created 'Mode A' and User B has created 'Mode B'"",""when"":""User A logs into the application"",""then"":""User A's custom mode list contains 'Mode A' but does not contain 'Mode B'.""}]","[""BE-005: Create TypeORM Entity and Migration for `custom_modes` Table"",""BE-008: Implement CRUD API for Custom Modes"",""TEST-BE-02: Write Unit Tests for CustomModesService"",""TEST-BE-03: Write Integration Tests for CustomModesController""]","[""Authenticated users can create, read, update, and delete their own custom modes."",""All data is persisted in the PostgreSQL database."",""API endpoints are secured and enforce data ownership."",""E2E tests verify the full CRUD lifecycle for custom modes.""]"
"US-047","User-Extensible Functionality","Launch and use a custom calculation mode","Registered User","As a registered user who has created a custom calculation mode, I want to launch that mode, enter my specific input values, and see the results calculated automatically, so that I can efficiently solve my unique and recurring problems.","Actualizes the core value of the user-extensible framework, transforming it from a creation tool into a functional, personalized calculator, which drives deep user engagement.","Must Have","13","[""US-041"",""US-056""]","[{""scenario"":""Perform a successful calculation"",""given"":""I am viewing a launched custom mode with all required input fields"",""when"":""I enter valid numerical values into all required input fields and trigger the calculation"",""then"":""A secure API call is made to the backend formula execution service, and the corresponding output fields are populated with the correct calculated results.""},{""scenario"":""Handle calculation errors from the backend"",""given"":""I am viewing a custom mode with a formula that can result in a mathematical error (e.g., division by zero)"",""when"":""I enter a value that will cause an error and trigger the calculation"",""then"":""The API returns a structured error response, an error message is displayed in the UI, and my original input values are preserved.""}]","[""SEC-003: Develop AWS Lambda for Secure Formula Execution (`isolated-vm`)"",""SEC-004: Implement Sandbox Function Allow-list"",""SEC-005: Create Backend API to Invoke Formula Execution Lambda"",""FE-XXX: Develop dynamic form rendering component for custom modes (inferred task)""]","[""User-defined formulas are executed in a secure AWS Lambda sandbox using `isolated-vm`."",""Only allow-listed functions and constants are accessible within the sandbox."",""Frontend can dynamically render a UI for any valid custom mode and display results."",""P95 latency for formula execution is under 500ms.""]"
"US-012","User Data Persistence","View a history of previous calculations","User (anonymous or registered)","As a user, I want to see a scrollable list of my recent calculations and their results so that I can review my work, with my history being saved to my account if I am logged in.","Improves core usability by allowing users to reference past work. For registered users, persistent history is a key feature that encourages account creation and increases user retention.","Must Have","5","[""US-001"",""US-053""]","[{""scenario"":""Registered user's history is loaded upon login"",""given"":""A registered user with a pre-existing calculation history is logged out"",""when"":""The user successfully logs in to their account"",""then"":""The history panel is populated with the user's calculation history fetched from the backend.""},{""scenario"":""Anonymous user's history is session-based and cleared on refresh"",""given"":""An anonymous user has a populated calculation history"",""when"":""The user performs a hard refresh (F5) of the browser tab"",""then"":""The calculation history is cleared, and the panel shows the empty state message.""}]","[""BE-010: Implement API for Calculation History (including entity/migration)"",""FE-010: Implement Calculation History Panel""]","[""A history panel displays a list of past calculations, newest first."",""For anonymous users, history is stored in session and cleared on hard refresh."",""For logged-in users, history is fetched from and saved to the backend."",""E2E tests for both anonymous and registered user flows are passing.""]"
"US-041","User-Extensible Functionality","Create a new custom calculation mode","Registered User","As a registered user with specialized calculation needs, I want to start a guided, step-by-step process (a wizard) to create a new custom calculation mode, so that I can build personalized tools that automate my recurring calculations.","Enables the core user-extensible functionality, increasing user engagement and retention by allowing users to create personalized tools.","Must Have","8","[""US-053""]","[{""scenario"":""Initiate wizard and complete the first step successfully"",""given"":""I am a registered user and I am logged in"",""when"":""I navigate to the 'Custom Mode Management' screen, click 'Create New Mode', enter a unique name and description, and click 'Next'"",""then"":""I am taken to the next step of the custom mode creation wizard ('Define Variables').""},{""scenario"":""Attempt to create a mode with a non-unique name"",""given"":""I am a registered user and a mode named 'Resistor Network Solver' already exists"",""when"":""I start creating a new mode and enter 'Resistor Network Solver' into the 'Name' field"",""then"":""I see an inline error message stating 'A mode with this name already exists.'""}]","[""FE-XXX: Implement multi-step wizard UI framework for custom mode creation (inferred task)"",""BE-008: Implement CRUD API for Custom Modes (specifically the 'Create' part)""]","[""A multi-step wizard UI allows users to define the name, description, variables, and formulas for a new mode."",""The completed mode definition is saved to the user's account via a secure API call."",""Client-side and server-side validation is in place for all inputs."",""The new mode appears in the user's list of custom modes upon successful creation.""]"
"US-027","Advanced Electronics Features","Calculate Ohm's Law and Power values","Electronics Practitioner","As an electronics practitioner, I want to enter any two known values for Voltage, Current, Resistance, or Power, so that the calculator automatically computes the remaining two values.","Provides a core, high-utility feature for the target electronics audience, increasing the application's value and user engagement by simplifying a common calculation.","Should Have","3","[""US-014""]","[{""scenario"":""Calculate Resistance and Power from Voltage and Current"",""given"":""The user is in the Ohm's Law & Power mode"",""when"":""The user enters a valid Voltage (e.g., '12V') and a valid Current (e.g., '500mA')"",""then"":""The Resistance field is automatically populated with '24Ω' and the Power field with '6W'.""},{""scenario"":""Insufficient input for calculation"",""given"":""The user is in the Ohm's Law & Power mode"",""when"":""The user has entered a value in only one field"",""then"":""The other three fields remain empty and a message is displayed prompting for more information.""}]","[""FE-XXX: Implement Ohm's Law & Power calculator component (inferred task)"",""FE-XXX: Implement client-side calculation logic for all six permutations (inferred task)""]","[""The UI contains four input fields for V, I, R, and P."",""Entering any two valid values correctly calculates the other two."",""The component correctly handles insufficient input and invalid (negative) values."",""The UI is responsive and accessible.""]"