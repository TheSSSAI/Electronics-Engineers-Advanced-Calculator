<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Article Layout</title>
  <style>
    /* CSS Reset */
    *, *::before, *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    /* Design System Tokens */
    :root {
        /* Colors */
        --color-background: #111827;
        --color-surface: #1F2937;
        --color-surface-light: #374151;
        --color-primary: #38BDF8;
        --color-primary-hover: #7DD3FC;
        --color-text-primary: #F9FAFB;
        --color-text-secondary: #D1D5DB;
        --color-text-tertiary: #9CA3AF;
        --color-border: #4B5563;

        /* Admonition Colors */
        --color-admonition-note-bg: rgba(56, 189, 248, 0.1);
        --color-admonition-note-border: #38BDF8;
        --color-admonition-tip-bg: rgba(52, 211, 153, 0.1);
        --color-admonition-tip-border: #34D399;
        --color-admonition-warning-bg: rgba(251, 191, 36, 0.1);
        --color-admonition-warning-border: #FBBF24;
        --color-admonition-danger-bg: rgba(248, 113, 113, 0.1);
        --color-admonition-danger-border: #F87171;
        
        /* Code Block Colors */
        --color-code-background: #0d1117;
        --color-code-text: #c9d1d9;
        --color-code-keyword: #ff7b72;
        --color-code-function: #d2a8ff;
        --color-code-string: #a5d6ff;
        --color-code-comment: #8b949e;
        --color-code-number: #79c0ff;


        /* Typography */
        --font-family-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
        --font-size-xs: 0.75rem;
        --font-size-sm: 0.875rem;
        --font-size-base: 1rem;
        --font-size-lg: 1.125rem;
        --font-size-xl: 1.25rem;
        --font-size-2xl: 1.5rem;
        --font-size-3xl: 1.875rem;
        --font-size-4xl: 2.25rem;

        /* Spacing */
        --spacing-1: 0.25rem;
        --spacing-2: 0.5rem;
        --spacing-3: 0.75rem;
        --spacing-4: 1rem;
        --spacing-5: 1.25rem;
        --spacing-6: 1.5rem;
        --spacing-8: 2rem;
        --spacing-12: 3rem;
        --spacing-16: 4rem;

        /* Border Radius */
        --border-radius-sm: 0.25rem;
        --border-radius-md: 0.5rem;
        --border-radius-lg: 0.75rem;
    }

    /* Base Styles */
    html {
      scroll-behavior: smooth;
    }
    body {
      font-family: var(--font-family-sans);
      background-color: var(--color-background);
      color: var(--color-text-secondary);
      line-height: 1.6;
      padding: var(--spacing-8);
    }
    
    h1, h2, h3, h4, h5, h6 {
        color: var(--color-text-primary);
        line-height: 1.3;
        margin-bottom: var(--spacing-4);
        scroll-margin-top: var(--spacing-8);
    }

    h1 { font-size: var(--font-size-4xl); font-weight: 800; border-bottom: 1px solid var(--color-border); padding-bottom: var(--spacing-4); margin-bottom: var(--spacing-8); }
    h2 { font-size: var(--font-size-2xl); font-weight: 700; margin-top: var(--spacing-12); border-bottom: 1px solid var(--color-border); padding-bottom: var(--spacing-3);}
    h3 { font-size: var(--font-size-xl); font-weight: 600; margin-top: var(--spacing-8); }

    p, ul, ol {
        margin-bottom: var(--spacing-6);
    }
    ul, ol {
        padding-left: var(--spacing-6);
    }
    li {
        margin-bottom: var(--spacing-2);
    }
    a {
        color: var(--color-primary);
        text-decoration: none;
        transition: color 0.2s ease;
    }
    a:hover {
        color: var(--color-primary-hover);
        text-decoration: underline;
    }
    strong {
        font-weight: 600;
        color: var(--color-text-primary);
    }

    /* Screen Layout: Article Layout */
    .article-screen {
        display: grid;
        grid-template-columns: minmax(0, 1fr) 240px;
        gap: var(--spacing-16);
        max-width: 1280px;
        margin: 0 auto;
    }
    .article-screen.without-toc {
        grid-template-columns: minmax(0, 1fr);
    }
    
    .article-content {
        max-width: 800px; /* Optimal reading width */
    }

    /* Table of Contents */
    .table-of-contents {
        position: sticky;
        top: var(--spacing-8);
        align-self: start;
        max-height: calc(100vh - var(--spacing-16));
        overflow-y: auto;
    }
    .toc-title {
        font-size: var(--font-size-sm);
        font-weight: 600;
        color: var(--color-text-primary);
        margin-bottom: var(--spacing-4);
        text-transform: uppercase;
        letter-spacing: 0.05em;
    }
    .toc-list {
        list-style: none;
        padding-left: 0;
        border-left: 1px solid var(--color-border);
    }
    .toc-list-item a {
        display: block;
        padding: var(--spacing-1) var(--spacing-4);
        color: var(--color-text-tertiary);
        font-size: var(--font-size-sm);
    }
    .toc-list-item a:hover {
        color: var(--color-text-primary);
        text-decoration: none;
    }
    .toc-list-item.is-active a {
        color: var(--color-primary);
        font-weight: 600;
        border-left: 2px solid var(--color-primary);
        margin-left: -1.5px; /* Align with parent border */
    }

    /* Responsive adjustments */
    @media (max-width: 1024px) {
        .article-screen {
            grid-template-columns: minmax(0, 1fr);
        }
        .table-of-contents {
            display: none;
        }
    }


    /* -- Component: Admonition Block -- */
    .admonition {
        padding: var(--spacing-4);
        margin: var(--spacing-6) 0;
        border-radius: var(--border-radius-md);
        border-left-width: 4px;
        border-left-style: solid;
    }
    .admonition-title {
        font-weight: 700;
        margin-bottom: var(--spacing-2);
        display: flex;
        align-items: center;
        gap: var(--spacing-2);
        font-size: var(--font-size-base);
    }
    .admonition-title svg {
        width: 20px;
        height: 20px;
        flex-shrink: 0;
    }
    .admonition > p:last-child {
        margin-bottom: 0;
    }

    .admonition.note {
        background-color: var(--color-admonition-note-bg);
        border-left-color: var(--color-admonition-note-border);
    }
    .admonition.note .admonition-title { color: var(--color-admonition-note-border); }

    .admonition.tip {
        background-color: var(--color-admonition-tip-bg);
        border-left-color: var(--color-admonition-tip-border);
    }
    .admonition.tip .admonition-title { color: var(--color-admonition-tip-border); }

    .admonition.warning {
        background-color: var(--color-admonition-warning-bg);
        border-left-color: var(--color-admonition-warning-border);
    }
    .admonition.warning .admonition-title { color: var(--color-admonition-warning-border); }

    .admonition.danger {
        background-color: var(--color-admonition-danger-bg);
        border-left-color: var(--color-admonition-danger-border);
    }
    .admonition.danger .admonition-title { color: var(--color-admonition-danger-border); }

    /* -- Component: Code Block -- */
    .code-block {
        background-color: var(--color-code-background);
        border-radius: var(--border-radius-md);
        padding: var(--spacing-4);
        font-family: monospace;
        font-size: var(--font-size-sm);
        line-height: 1.5;
        overflow-x: auto;
        color: var(--color-code-text);
        margin: var(--spacing-6) 0;
    }
    .code-block pre {
      white-space: pre;
    }
    .code-keyword { color: var(--color-code-keyword); }
    .code-function { color: var(--color-code-function); }
    .code-string { color: var(--color-code-string); }
    .code-comment { color: var(--color-code-comment); }
    .code-number { color: var(--color-code-number); }


    /* -- Component: Doc Paginator -- */
    .doc-paginator {
        margin-top: var(--spacing-16);
        border-top: 1px solid var(--color-border);
        padding-top: var(--spacing-6);
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: var(--spacing-4);
    }
    .paginator-link {
        display: flex;
        flex-direction: column;
        padding: var(--spacing-3) var(--spacing-4);
        border: 1px solid var(--color-border);
        border-radius: var(--border-radius-md);
        transition: background-color 0.2s, border-color 0.2s;
        flex-grow: 1;
        max-width: 50%;
    }
    .paginator-link:hover {
        background-color: var(--color-surface);
        border-color: var(--color-text-secondary);
        text-decoration: none;
    }
    .paginator-link.prev {
        text-align: left;
    }
    .paginator-link.next {
        text-align: right;
    }
    .paginator-label {
        font-size: var(--font-size-xs);
        color: var(--color-text-tertiary);
        margin-bottom: var(--spacing-1);
    }
    .paginator-title {
        font-weight: 600;
        color: var(--color-text-primary);
    }
    .paginator-link .paginator-title {
      color: var(--color-primary);
    }

    /* Screen Variations for Demo */
    .screen-variations {
      margin-top: var(--spacing-16);
      padding-top: var(--spacing-8);
      border-top: 2px dashed var(--color-border);
    }
    .variation-group {
      margin-top: var(--spacing-8);
    }
    .variation-group h3 {
      font-size: var(--font-size-lg);
      margin-bottom: var(--spacing-2);
    }
    .variation-group p {
      color: var(--color-text-tertiary);
      font-size: var(--font-size-sm);
      margin-bottom: var(--spacing-6);
    }
  </style>
</head>
<body>

  <div class="article-screen">
    <main class="article-content">
      <article>
        <h1>Using the 555 Timer Mode</h1>
        <p>The 555 Timer mode is a specialized calculator designed to assist with the design of circuits using the popular NE555 timer integrated circuit. This guide will walk you through its features and provide practical examples.</p>
        
        <div class="admonition note">
          <div class="admonition-title">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z" clip-rule="evenodd" /></svg>
            Note
          </div>
          <p>This feature assumes familiarity with basic electronics principles and the standard 555 timer datasheet configurations.</p>
        </div>

        <h2 id="astable-mode">Astable Mode</h2>
        <p>In astable mode, the 555 timer acts as a free-running oscillator. The calculator helps you determine the component values needed to achieve a desired output frequency and duty cycle. <strong>Duty cycle must be greater than 50%.</strong></p>
        <ul>
          <li><strong>Frequency (f):</strong> The number of cycles per second (Hz) of the output waveform.</li>
          <li><strong>Duty Cycle (D):</strong> The percentage of time the output is in the high state.</li>
          <li><strong>Components:</strong> You must provide the value of one known component (RA, RB, or C).</li>
        </ul>

        <div class="code-block">
          <pre><code><span class="code-comment">// Formulas used in Astable calculation</span>
<span class="code-keyword">const</span> T = <span class="code-number">1</span> / frequency;
<span class="code-keyword">const</span> t_high = T * dutyCycle;
<span class="code-keyword">const</span> t_low = T * (<span class="code-number">1</span> - dutyCycle);

<span class="code-function">calculateComponents</span>(t_high, t_low);</code></pre>
        </div>
        
        <h2 id="monostable-mode">Monostable Mode</h2>
        <p>In monostable mode, the 555 timer produces a single output pulse of a specific duration when triggered. This is also known as a "one-shot" configuration.</p>
        
        <div class="admonition danger">
          <div class="admonition-title">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd" /></svg>
            Danger
          </div>
          <p>Ensure that the trigger input (pin 2) is properly debounced in your physical circuit to avoid multiple unwanted pulses.</p>
        </div>
        
        <p>To use this mode, you need to provide the desired pulse width (T) and the value of either the timing resistor (R) or the timing capacitor (C). The calculator will find the other value for you based on the formula: <strong>T â‰ˆ 1.1 * R * C</strong>.</p>
        
        <nav class="doc-paginator">
          <a href="#" class="paginator-link prev">
            <div class="paginator-label">Previous</div>
            <div class="paginator-title">&larr; Resistor Color Codes</div>
          </a>
          <a href="#" class="paginator-link next">
            <div class="paginator-label">Next</div>
            <div class="paginator-title">Creating a Custom Mode &rarr;</div>
          </a>
        </nav>
      </article>
    </main>
    <aside class="table-of-contents" aria-labelledby="toc-heading">
      <h3 id="toc-heading" class="toc-title">On this page</h3>
      <ul class="toc-list">
        <li class="toc-list-item is-active"><a href="#astable-mode">Astable Mode</a></li>
        <li class="toc-list-item"><a href="#monostable-mode">Monostable Mode</a></li>
      </ul>
    </aside>
  </div>
  
  <div class="screen-variations">
    <h2>Screen Variations</h2>
    
    <div class="variation-group">
      <h3>Variant Name: "With Table of Contents"</h3>
      <p>The default layout for desktop screens. It features a main content area and a right-hand, sticky Table of Contents for easy navigation within the article.</p>
      <!-- The mockup above demonstrates this variant. -->
    </div>
    
    <div class="variation-group">
      <h3>Variant Name: "Without Table of Contents"</h3>
      <p>This layout is used on smaller screens (tablets and mobile) where screen real estate is limited. The Table of Contents is hidden to allow the main article content to take up the full width.</p>
      <div class="article-screen without-toc">
        <main class="article-content">
          <article>
            <h1>Article Without TOC</h1>
            <p>This is an example of how the article layout adapts. The main content area now spans the full width of its container because the Table of Contents on the right has been hidden.</p>
             <nav class="doc-paginator">
              <a href="#" class="paginator-link prev">
                <div class="paginator-label">Previous</div>
                <div class="paginator-title">&larr; Previous Article</div>
              </a>
              <a href="#" class="paginator-link next">
                <div class="paginator-label">Next</div>
                <div class="paginator-title">Next Article &rarr;</div>
              </a>
            </nav>
          </article>
        </main>
        <!-- The <aside> element would be absent or have display:none here -->
      </div>
    </div>
  </div>
</body>
</html>